
@{
    ViewData["Title"] = "Города";
}

<div class="modal1" data-modal="6">
    <!--   Svg иконка для закрытия окна  -->
    <svg class="modal__cross js-modal-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z" />
    </svg>
    <p class="h3">Добавить город</p>
    <br />
    <form class="needs-validation comment-form rounded" action="javascript:void(0);" novalidate id="cityForm">
        <input type="text" id="CityName" name="Name" class="form-control" placeholder="Название" required autocomplete="off">
        <div class="invalid-feedback" style="width: 100%;">
            Поле "Название" не было заполнено или было заполнено неверно.
        </div>
        <input type="number" id="DeliverySum" name="DeliverySum" class="form-control" autocomplete="off" placeholder="Стоимость доставки (в руб.)" required>
        <div class="invalid-feedback" style="width: 100%;">
            Поле "Стоимость доставки (в руб.)" не было заполнено или было заполнено неверно.
        </div>
        <input type="number" id="DeliveryTime" name="DeliveryTime" class="form-control" autocomplete="off" placeholder="Время доставки (в днях)" required>
        <div class="invalid-feedback" style="width: 100%;">
            Поле "Время доставки (в днях)" не было заполнено или было заполнено неверно.
        </div>
        <br>
        <input class="btn btn-dark" type="submit" id="AddCity" onclick="createNewCity();" value="Добавить" />
    </form>
</div>

<h2 class="text-center">Города</h2>

<div class="form-orders">
<div class="row sort-line">
    <input name="search" class="form-control search-input" autocomplete="off" type="text" id="searchCity" placeholder="Поиск..." aria-label="Search" value="@ViewBag.search">
</div>
<div class="row sort-line">
    <div class="col-md-2">
        <label>Сортировать: </label>
    </div>
    <div class="col-md-10">
        <select class="custom-select" name="orderCitySort" id="orderCitySort">
            @{ string p = ViewBag.order;}
            @if (p == "" || p == "alphabet")
            {
                <option value="alphabet" selected>По алфавиту (по возрастанию)</option>
            }
            else
            {
                <option value="alphabet">По алфавиту (по возрастанию)</option>}

            @if (p == "alphabetDesc")
            {
                <option value="alphabetDesc" selected>По алфавиту (по убыванию)</option>
            }
            else
            {
                <option value="alphabetDesc">По алфавиту (по убыванию)</option>
            }

            @if (p == "time")
            {
                <option value="time" selected>По времени доставки(по возрастанию)</option>
            }
            else
            {
                <option value="time">По времени доставки(по возрастанию)</option>
            }

            @if (p == "timeDesc")
            {
                <option value="timeDesc" selected>По времени доставки(по убыванию)</option>
            }
            else
            {
                <option value="timeDesc">По времени доставки(по убыванию)</option>
            }

            @if (p == "cost")
            {
                <option value="cost" selected>По стоимости доставки (по возрастанию)</option>
            }
            else
            {
                <option value="cost">По стоимости доставки (по возрастанию)</option>
            }

            @if (p == "costDesc")
            {
                <option value="costDesc" selected>По стоимости доставки (по убыванию)</option>
            }
            else
            {
                <option value="costDesc">По стоимости доставки (по убыванию)</option>
            }
        </select>
    </div>
    </div>
    <input class="btn btn-info btn-search-orders" type="submit" onclick="loadCities();" value="Поиск" />
</div>

<div class="js__cities_table">
    <div class="d-flex justify-content-center">
        <div class="spinner-border" role="status">
            <span class="sr-only">Пожалуйста, подождите, идет загрузка...</span>
        </div>
    </div>
</div>
<environment include="Development">
    <script src="~/js/City.js" asp-append-version="true"></script>
</environment>